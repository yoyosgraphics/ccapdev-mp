<!-- register.hbs file -->
{{> navigation}}
<div class="register-container">
    <div class="image-section"></div>
    <div class="reg-section">
        <div class="form-container">
            <h2>Register</h2>
            
            {{#if alerts.length}}
            <div class="alerts">
                {{#each alerts}}
                <div class="alert alert-{{this.type}}">
                    {{this.message}}
                </div>
                {{/each}}
            </div>
            {{/if}}
            
            {{#if showPage}}
                {{> register/page_one}}
            {{/if}}
            
            {{#if showPageTwo}}
                {{> register/page_two}}
            {{/if}}
        </div>
    </div>
</div>

<script>
// JavaScript to handle image preview and character count
document.addEventListener('DOMContentLoaded', function() {
    // Image preview functionality
    const fileInput = document.getElementById('file-input');
    const profileImage = document.getElementById('profile-image');
    const uploadPlaceholder = document.querySelector('.upload-placeholder');
    
    if (fileInput) {
        fileInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    profileImage.src = e.target.result;
                    profileImage.style.display = 'block';
                    if (uploadPlaceholder) {
                        uploadPlaceholder.style.display = 'none';
                    }
                };
                
                reader.readAsDataURL(this.files[0]);
            }
        });
    }
    
    // Character counter for biography
    const bioTextarea = document.getElementById('bio');
    const charCounter = document.getElementById('char-counter');
    
    if (bioTextarea && charCounter) {
        bioTextarea.addEventListener('input', function() {
            const currentLength = this.value.length;
            charCounter.textContent = currentLength + '/1500';
        });
        
        // Initialize counter
        if (bioTextarea.value) {
            charCounter.textContent = bioTextarea.value.length + '/1500';
        }
    }
});
</script>
{{> footer}}